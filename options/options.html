<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Sleeper+ Options</title>
  <link rel="stylesheet" href="options.css">
</head>
<body>
  <main class="page">
    <section class="settings-card">
      <header class="settings-card__header">
        <h1>Sleeper+ Settings</h1>
        <p>Manage Sleeper+ preferences for your fantasy league.</p>
      </header>
      <form id="league-form" class="settings-form">
        <div class="settings-stack">
          <div class="settings-group">
            <h2>Leagues</h2>
            <label for="league-id">League ID</label>
            <div class="league-input-row">
              <input id="league-id" type="text" name="leagueId" autocomplete="off" placeholder="e.g. 123456789012345678">
              <button id="add-league-button" type="button" class="secondary">Add</button>
            </div>
            <p class="helper">Paste a Sleeper league URL or ID, then press Add. Manage all linked leagues below.</p>
            <ul id="league-list" class="league-list" aria-live="polite"></ul>
          </div>

          <div class="settings-group">
            <h2>Trends &amp; Data</h2>
            <label class="toggle" for="show-opponent-ranks">
              <input id="show-opponent-ranks" type="checkbox" checked>
              <span>Show opponent rank indicator next to players</span>
            </label>
            <label class="toggle" for="enable-trend-overlays">
              <input id="enable-trend-overlays" type="checkbox" checked>
              <span>Show player trend overlays on team pages</span>
            </label>
            <label class="toggle" for="show-sparkline-always">
              <input id="show-sparkline-always" type="checkbox" checked>
              <span>Show player sparklines on league page pop-ups</span>
            </label>
            <p class="helper">Sleeper+ auto-refreshes league data about once an hour; trigger a manual refresh to immediately pull the latest player performance, matchup ranks, and league metrics for every linked league.</p>
            <button id="refresh-data-button" type="button" class="secondary">Refresh Sleeper data</button>
            <p id="refresh-data-status" class="helper" aria-live="polite"></p>
            <p id="refresh-data-last-run" class="helper helper--muted" aria-live="polite"></p>
          </div>

          <div class="settings-group">
            <h2>Layout</h2>
            <label for="chat-max-width">League chat max width (px)</label>
            <input id="chat-max-width" type="number" min="200" max="800" step="10" value="400">
            <label class="toggle" for="show-settings-button">
              <input id="show-settings-button" type="checkbox" checked>
              <span>Show Sleeper+ Settings button</span>
            </label>
            <label class="toggle" for="show-team-totals">
              <input id="show-team-totals" type="checkbox" checked>
              <span>Show total points panel on team page</span>
            </label>
          </div>

          <div class="settings-group">
            <h2>Enhancements</h2>
            <p class="helper">Disable all Sleeper+ UI and data enhancements if you need the stock Sleeper experience.</p>
            <label class="toggle" for="disable-sleeper-plus">
              <input id="disable-sleeper-plus" type="checkbox">
              <span>Disable Sleeper+ enhancements</span>
            </label>
          </div>
        </div>

        <div class="actions">
          <button id="save-button" type="submit">Save</button>
          <button id="go-to-league-button" type="button" class="secondary">Go to League</button>
          <button id="clear-button" type="button" class="secondary">Reset</button>
        </div>

        <p id="message" role="status" aria-live="polite"></p>
      </form>
    </section>
  </main>
  <script src="options.js"></script>
</body>
</html>
